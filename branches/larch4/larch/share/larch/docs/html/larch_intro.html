<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>

<head>
  <meta content="text/html;charset=UTF-8" http-equiv="Content-Type" />
  <title>larch introduction</title>
  <meta content="gradgrind" name="author" />
</head>

<body>

<table style="text-align: left; width: 100%;" border="1" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <td><a href="larch_docindex.html">Table of Contents</a></td>

      <td><a href="larch_features.html">Next: Features</a></td>
    </tr>
  </tbody>
</table>

<br />

<h1><big>larch</big> &ndash; a do-it-yourself live Archlinux CD</h1>

<img style="border: 0px solid ; width: 290px; height: 192px;" alt="" src="larchsplash.jpg" name="graphics1" align="right" hspace="10" vspace="10" />
<br /><br />

<h2>Introduction</h2>

<p>The aim was to cobble together some
scripts to assist in the generation of personalized live CDs, very
similar to Tomas Matejicek's Linux-Live scripts (<a href="http://www.linux-live.org/">www.linux-live.org</a>)
and SLAX (<a href="http://slax.linux-live.org/">slax.linux-live.org</a>),
indeed originally derived from these (<b>thanks Tomas!)</b>.
My main intentions were that the system be based on <a href="http://www.archlinux.org/">Archlinux</a>,
that it be very easy to customize, and that it be capable of
producing a custom installation/rescue CD, which would at the same
time offer a comfortable working environment &ndash; in contrast to
the rather Spartan standard Arch installation CD. Several recent
advances in the Linux world (e.g. <em>unionfs</em> and
hardware detection), together with the (relative) structural simplicity of
Archlinux have made this task considerably less daunting than it was
in the past.</p>


<p><em>Squashfs</em> offers convenient compression of the data on the CD so that
up to about
2 GB of code can be included on a 700 MB CD. <em>Unionfs</em> offers the
ability to write to all directories even though the CDROM is read-only, which allows such fancy stuff as installation
of new software packages to the running live system. Using <em>unionfs</em>
you could do, say, 'pacman -S fluxbox' and <em>fluxbox</em> would be
installed (temporarily - it's gone when you reboot). The limit to the amount
of overwriting is
determined by the size of the available memory
(though the boot option 'swap' allows use of an existing swap partition).
Hardware detection is provided by the same <em>udev</em> approach as is used
in a standard Archlinux system.
</p>

<p>The <em>larch</em> project comprises several packages. The arch installer,
<em>archin</em>, is essentially independent of the live CD system, but
provides a useful complementary function. It offers a 'console GUI' (using
<em>dialog</em>) and can install Archlinux via ftp. With the small extension
package 'larchin' it can do an Arch installation to a hard disk partition
using the live CD contents.
</p>

<p>
During its development, <em>larch</em> has shown a rather sanguine
approach to dealing with the possibilities of <em>unionfs</em> and
<em>squashfs</em>, mostly because of various difficulties and limitations that arose in their use. In version 3, the approach is nearer that of version 1
than of version 2, but in terms of actually using the build scripts little
has been changed since version 2.
As in version 1, no <em>unionfs</em> mounts are made in
the <em>initramfs</em>, this is delayed until the 'proper' system starts.
</p>

<p>As in standard Archlinux, 'mkinitcpio' is used to generate the
<em>initramfs</em>. The part of <em>larch</em> which interfaces to the
'mkinitcpio' is in the 'initcpio_larch' package.
</p>

<p>I have tried to maintain the distribution-independence of the
<em>larch</em> scripts,
so that they can be used on other GNU/Linux systems - you shouldn't need an
Archlinux installation in order to build a <em>larch</em> CD or to install
Arch using <em>archin</em>.
The dependencies (e.g. <em>bash</em>, <em>python</em>,
<em>wget</em>, <em>mkisofs</em>) should be
satisfied on pretty well any
GNU/Linux system. If no <em>pacman</em> is found, a static version
(<b>pacman.static</b>) will be downloaded.
One of the (three!) methods for obtaining a list of base system packages uses <em>abs</em>, which
uses <em>cvsup</em> and has its own configuration files, so that it will probably only work in Arch,
but the other two only need <em>wget</em>. In other words, it should not be difficult
to generate your own customised <em>larch</em> CD on pretty well any GNU/Linux system.
But I must admit that this feature hasn't been tested much.
</p>

<p>As with most stuff around Archlinux
it's not really designed for beginners - you should know your
way around a Linux system (preferably Arch!), and have at least a
minimal idea of running command-line stuff and editing configuration
files. I think the <em>archin</em> installer is a bit friendlier than the
present standard
Archlinux installer, but it is still no fancy whizz-bang graphical bells-and-whistles
wizard that does it all for you; I only wanted to
make a friendlier environment from which to install Arch. I also hope that the
documentation will be clear enough to help anyone who wants to exploit
<em>larch</em> to the full (feedback is welcome!).</p>

<p><b>Requirement:</b>
You need quite a
lot of space to create an Archlinux live CD system - to build a 700MB CD
image you'll need up to about 4GB. That is because a complete Archlinux
system is installed, then a compressed ('squashed') verion is made, and then
a CD image (iso).
</p>

<br /><br />

<table style="text-align: left; width: 100%;" border="1" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>

      <td><a href="larch_docindex.html">Table of Contents</a></td>

      <td><a href="larch_features.html">Next: Features</a></td>

    </tr>
  </tbody>
</table>

</body>
</html>

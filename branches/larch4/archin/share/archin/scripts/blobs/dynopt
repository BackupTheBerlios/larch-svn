#!/bin/sh
#
# dynopt  - blob type: dynamic option menu
#

this=$( pwd )

echo ">>> dynopt ${this}" >>${LOGFILE}

# The list of items is generated by the 'genmenu' script
menulist="$( genmenu )"
echo "${menulist}" >${TEMPDIR}/dynopts

disp="$( geti18n ${this}/display )"

    ${DIALOGUE} dmenu "${disp}" "${menulist}"
    if [ "$?" -ne "0" ]; then exit 0; fi
    value="$( cat ${DLGRESULT} )"
    echo ": choice ${value}" >>${LOGFILE}

    [ -x script ] && exec script "${value}"

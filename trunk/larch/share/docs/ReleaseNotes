2007.12.19
larch-ur (with simplified union structure, no CD/DVD session save)

Changes from larch-4:

Split functionality of mklarch, so that rebuilds after a mklarch run and
other builds from existing Arch installations are now handled by the
'larchify' script - 'larchify -h' for usage notes. 'mklarch' now only covers
initial builds including installation - 'mklarch -h' for usage notes. Note
that the options have changed!!! For instance, 'mklarch -p' now expects a
directory as argument and there is no option to copy an example profile to
the current directory.

'pacin' replaced by 'inpacs' - 'inpacs -h' for usage notes. It is now
possible to fully customize pacman caches, and even pacman databases,
including the use of locally networked computers as source (using sshfs or
NFS). Thus a larch build can be made without an internet connection, if
all the packages are available locally on a suitably configured Arch
system.

Completely new union/overlay structure. The overlay is now copied to the
writable union layer at boot, and can be copied back at shutdown. This
should speed up session-saving, especially through the use of lzop
compression rather than squashfs.

When the overlay gets too large it can be merged back into the squashed
system archive(s). This can be a lengthy process (as before) and is
provided as a boot option, booting to a special merge function instead
of the normal boot. When finished it reboots.
By keeping the home directory in a separate squashed archive (larch build
option), it is possible to choose whether to merge the whole overlay or
just the home directory.


